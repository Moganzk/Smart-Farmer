{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { FETCH_ADVISORY_CATEGORIES, FETCH_ADVISORY_CONTENT, SEARCH_ADVISORY, FETCH_FEATURED_CONTENT, TOGGLE_SAVE_CONTENT } from \"../types\";\nvar initialState = {\n  categories: [],\n  content: {},\n  featuredContent: [],\n  savedContent: [],\n  searchResults: {\n    query: '',\n    results: []\n  }\n};\nvar advisoryReducer = function advisoryReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case FETCH_ADVISORY_CATEGORIES:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        categories: action.payload\n      });\n    case FETCH_ADVISORY_CONTENT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        content: _objectSpread(_objectSpread({}, state.content), {}, _defineProperty({}, action.payload.categoryId, action.payload.content))\n      });\n    case SEARCH_ADVISORY:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        searchResults: {\n          query: action.payload.query,\n          results: action.payload.results\n        }\n      });\n    case FETCH_FEATURED_CONTENT:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        featuredContent: action.payload\n      });\n    case TOGGLE_SAVE_CONTENT:\n      {\n        var _action$payload = action.payload,\n          contentId = _action$payload.contentId,\n          isSaved = _action$payload.isSaved;\n        var updatedSavedContent;\n        if (isSaved) {\n          var content = findContentById(state, contentId);\n          if (content) {\n            updatedSavedContent = [].concat(_toConsumableArray(state.savedContent), [content]);\n          } else {\n            updatedSavedContent = state.savedContent;\n          }\n        } else {\n          updatedSavedContent = state.savedContent.filter(function (item) {\n            return item.id !== contentId;\n          });\n        }\n        return _objectSpread(_objectSpread({}, state), {}, {\n          savedContent: updatedSavedContent\n        });\n      }\n    default:\n      return state;\n  }\n};\nvar findContentById = function findContentById(state, contentId) {\n  var featuredItem = state.featuredContent.find(function (item) {\n    return item.id === contentId;\n  });\n  if (featuredItem) return featuredItem;\n  for (var categoryId in state.content) {\n    if (state.content.hasOwnProperty(categoryId)) {\n      var categoryContent = state.content[categoryId];\n      var contentItem = categoryContent.find(function (item) {\n        return item.id === contentId;\n      });\n      if (contentItem) return contentItem;\n    }\n  }\n  var searchItem = state.searchResults.results.find(function (item) {\n    return item.id === contentId;\n  });\n  if (searchItem) return searchItem;\n  return null;\n};\nexport default advisoryReducer;","map":{"version":3,"names":["FETCH_ADVISORY_CATEGORIES","FETCH_ADVISORY_CONTENT","SEARCH_ADVISORY","FETCH_FEATURED_CONTENT","TOGGLE_SAVE_CONTENT","initialState","categories","content","featuredContent","savedContent","searchResults","query","results","advisoryReducer","state","arguments","length","undefined","action","type","_objectSpread","payload","_defineProperty","categoryId","_action$payload","contentId","isSaved","updatedSavedContent","findContentById","concat","_toConsumableArray","filter","item","id","featuredItem","find","hasOwnProperty","categoryContent","contentItem","searchItem"],"sources":["C:/Users/eacha/OneDrive/Desktop/SMART FARMER/FRONTEND/src/redux/reducers/advisoryReducer.js"],"sourcesContent":["import { \r\n  FETCH_ADVISORY_CATEGORIES, \r\n  FETCH_ADVISORY_CONTENT, \r\n  SEARCH_ADVISORY, \r\n  FETCH_FEATURED_CONTENT,\r\n  TOGGLE_SAVE_CONTENT\r\n} from '../types';\r\n\r\nconst initialState = {\r\n  categories: [],\r\n  content: {},\r\n  featuredContent: [],\r\n  savedContent: [],\r\n  searchResults: {\r\n    query: '',\r\n    results: []\r\n  }\r\n};\r\n\r\nconst advisoryReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_ADVISORY_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: action.payload\r\n      };\r\n    case FETCH_ADVISORY_CONTENT:\r\n      return {\r\n        ...state,\r\n        content: {\r\n          ...state.content,\r\n          [action.payload.categoryId]: action.payload.content\r\n        }\r\n      };\r\n    case SEARCH_ADVISORY:\r\n      return {\r\n        ...state,\r\n        searchResults: {\r\n          query: action.payload.query,\r\n          results: action.payload.results\r\n        }\r\n      };\r\n    case FETCH_FEATURED_CONTENT:\r\n      return {\r\n        ...state,\r\n        featuredContent: action.payload\r\n      };\r\n    case TOGGLE_SAVE_CONTENT: {\r\n      const { contentId, isSaved } = action.payload;\r\n      let updatedSavedContent;\r\n\r\n      if (isSaved) {\r\n        // Find the content in content/featuredContent and add to savedContent\r\n        const content = findContentById(state, contentId);\r\n        if (content) {\r\n          updatedSavedContent = [...state.savedContent, content];\r\n        } else {\r\n          updatedSavedContent = state.savedContent;\r\n        }\r\n      } else {\r\n        // Remove from savedContent\r\n        updatedSavedContent = state.savedContent.filter(item => item.id !== contentId);\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        savedContent: updatedSavedContent\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Helper function to find content by id across different sources\r\nconst findContentById = (state, contentId) => {\r\n  // Check featuredContent\r\n  const featuredItem = state.featuredContent.find(item => item.id === contentId);\r\n  if (featuredItem) return featuredItem;\r\n\r\n  // Check content in each category\r\n  for (const categoryId in state.content) {\r\n    if (state.content.hasOwnProperty(categoryId)) {\r\n      const categoryContent = state.content[categoryId];\r\n      const contentItem = categoryContent.find(item => item.id === contentId);\r\n      if (contentItem) return contentItem;\r\n    }\r\n  }\r\n\r\n  // Check search results\r\n  const searchItem = state.searchResults.results.find(item => item.id === contentId);\r\n  if (searchItem) return searchItem;\r\n\r\n  return null;\r\n};\r\n\r\nexport default advisoryReducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}