{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { FETCH_USER_GROUPS, CREATE_GROUP, JOIN_GROUP, LEAVE_GROUP, FETCH_GROUP_MESSAGES, SEND_GROUP_MESSAGE } from \"../types\";\nvar initialState = {\n  groups: [],\n  messages: {}\n};\nvar groupReducer = function groupReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case FETCH_USER_GROUPS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        groups: action.payload\n      });\n    case CREATE_GROUP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        groups: [].concat(_toConsumableArray(state.groups), [action.payload])\n      });\n    case JOIN_GROUP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        groups: [].concat(_toConsumableArray(state.groups), [action.payload])\n      });\n    case LEAVE_GROUP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        groups: state.groups.filter(function (group) {\n          return group.id !== action.payload;\n        })\n      });\n    case FETCH_GROUP_MESSAGES:\n      {\n        var _action$payload = action.payload,\n          groupId = _action$payload.groupId,\n          messages = _action$payload.messages;\n        return _objectSpread(_objectSpread({}, state), {}, {\n          messages: _objectSpread(_objectSpread({}, state.messages), {}, _defineProperty({}, groupId, messages))\n        });\n      }\n    case SEND_GROUP_MESSAGE:\n      {\n        var _action$payload2 = action.payload,\n          _groupId = _action$payload2.groupId,\n          message = _action$payload2.message;\n        var groupMessages = state.messages[_groupId] || [];\n        return _objectSpread(_objectSpread({}, state), {}, {\n          messages: _objectSpread(_objectSpread({}, state.messages), {}, _defineProperty({}, _groupId, [].concat(_toConsumableArray(groupMessages), [message])))\n        });\n      }\n    default:\n      return state;\n  }\n};\nexport default groupReducer;","map":{"version":3,"names":["FETCH_USER_GROUPS","CREATE_GROUP","JOIN_GROUP","LEAVE_GROUP","FETCH_GROUP_MESSAGES","SEND_GROUP_MESSAGE","initialState","groups","messages","groupReducer","state","arguments","length","undefined","action","type","_objectSpread","payload","concat","_toConsumableArray","filter","group","id","_action$payload","groupId","_defineProperty","_action$payload2","message","groupMessages"],"sources":["C:/Users/eacha/OneDrive/Desktop/SMART FARMER/FRONTEND/src/redux/reducers/groupReducer.js"],"sourcesContent":["import { \r\n  FETCH_USER_GROUPS, \r\n  CREATE_GROUP, \r\n  JOIN_GROUP, \r\n  LEAVE_GROUP,\r\n  FETCH_GROUP_MESSAGES,\r\n  SEND_GROUP_MESSAGE\r\n} from '../types';\r\n\r\nconst initialState = {\r\n  groups: [],\r\n  messages: {}\r\n};\r\n\r\nconst groupReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USER_GROUPS:\r\n      return {\r\n        ...state,\r\n        groups: action.payload\r\n      };\r\n    case CREATE_GROUP:\r\n      return {\r\n        ...state,\r\n        groups: [...state.groups, action.payload]\r\n      };\r\n    case JOIN_GROUP:\r\n      return {\r\n        ...state,\r\n        groups: [...state.groups, action.payload]\r\n      };\r\n    case LEAVE_GROUP:\r\n      return {\r\n        ...state,\r\n        groups: state.groups.filter(group => group.id !== action.payload)\r\n      };\r\n    case FETCH_GROUP_MESSAGES: {\r\n      const { groupId, messages } = action.payload;\r\n      return {\r\n        ...state,\r\n        messages: {\r\n          ...state.messages,\r\n          [groupId]: messages\r\n        }\r\n      };\r\n    }\r\n    case SEND_GROUP_MESSAGE: {\r\n      const { groupId, message } = action.payload;\r\n      const groupMessages = state.messages[groupId] || [];\r\n      \r\n      return {\r\n        ...state,\r\n        messages: {\r\n          ...state.messages,\r\n          [groupId]: [...groupMessages, message]\r\n        }\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default groupReducer;"],"mappings":";;;;AAAA,SACEA,iBAAiB,EACjBC,YAAY,EACZC,UAAU,EACVC,WAAW,EACXC,oBAAoB,EACpBC,kBAAkB;AAGpB,IAAMC,YAAY,GAAG;EACnBC,MAAM,EAAE,EAAE;EACVC,QAAQ,EAAE,CAAC;AACb,CAAC;AAED,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAqC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGL,YAAY;EAAA,IAAEQ,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAChD,QAAQC,MAAM,CAACC,IAAI;IACjB,KAAKf,iBAAiB;MACpB,OAAAgB,aAAA,CAAAA,aAAA,KACKN,KAAK;QACRH,MAAM,EAAEO,MAAM,CAACG;MAAO;IAE1B,KAAKhB,YAAY;MACf,OAAAe,aAAA,CAAAA,aAAA,KACKN,KAAK;QACRH,MAAM,KAAAW,MAAA,CAAAC,kBAAA,CAAMT,KAAK,CAACH,MAAM,IAAEO,MAAM,CAACG,OAAO;MAAC;IAE7C,KAAKf,UAAU;MACb,OAAAc,aAAA,CAAAA,aAAA,KACKN,KAAK;QACRH,MAAM,KAAAW,MAAA,CAAAC,kBAAA,CAAMT,KAAK,CAACH,MAAM,IAAEO,MAAM,CAACG,OAAO;MAAC;IAE7C,KAAKd,WAAW;MACd,OAAAa,aAAA,CAAAA,aAAA,KACKN,KAAK;QACRH,MAAM,EAAEG,KAAK,CAACH,MAAM,CAACa,MAAM,CAAC,UAAAC,KAAK;UAAA,OAAIA,KAAK,CAACC,EAAE,KAAKR,MAAM,CAACG,OAAO;QAAA;MAAC;IAErE,KAAKb,oBAAoB;MAAE;QACzB,IAAAmB,eAAA,GAA8BT,MAAM,CAACG,OAAO;UAApCO,OAAO,GAAAD,eAAA,CAAPC,OAAO;UAAEhB,QAAQ,GAAAe,eAAA,CAARf,QAAQ;QACzB,OAAAQ,aAAA,CAAAA,aAAA,KACKN,KAAK;UACRF,QAAQ,EAAAQ,aAAA,CAAAA,aAAA,KACHN,KAAK,CAACF,QAAQ,OAAAiB,eAAA,KAChBD,OAAO,EAAGhB,QAAQ;QACpB;MAEL;IACA,KAAKH,kBAAkB;MAAE;QACvB,IAAAqB,gBAAA,GAA6BZ,MAAM,CAACG,OAAO;UAAnCO,QAAO,GAAAE,gBAAA,CAAPF,OAAO;UAAEG,OAAO,GAAAD,gBAAA,CAAPC,OAAO;QACxB,IAAMC,aAAa,GAAGlB,KAAK,CAACF,QAAQ,CAACgB,QAAO,CAAC,IAAI,EAAE;QAEnD,OAAAR,aAAA,CAAAA,aAAA,KACKN,KAAK;UACRF,QAAQ,EAAAQ,aAAA,CAAAA,aAAA,KACHN,KAAK,CAACF,QAAQ,OAAAiB,eAAA,KAChBD,QAAO,KAAAN,MAAA,CAAAC,kBAAA,CAAOS,aAAa,IAAED,OAAO;QACtC;MAEL;IACA;MACE,OAAOjB,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}